<!DOCTYPE html>
<html lang="ko">
    <head>
        <meta charset="UTF-8" />
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <title>7장 - 오류 처리</title>
        <meta name="description" content="오류 처리오류 코드보다 예외를 사용하라 class DeviceController {     // ...     sendShutdown() {         const handle: DeviceHandle = getHandle(DEV1);         // 기기 상태 점검         if (handle !== DeviceHandle.INVALID) { " />
        <link rel="preconnect" async href="https://fonts.googleapis.com" />
        <link
            rel="preconnect"
            async
            href="https://fonts.gstatic.com"
            crossorigin
        />
        <link
            href="https://fonts.googleapis.com/css2?family=Noto+Sans+KR:wght@400;700&display=swap"
            rel="stylesheet"
        />
        <link rel="stylesheet" async href="/Clean-Code/css/reset.css" />
        <link rel="stylesheet" async href="/Clean-Code/css/icon.css" />
        <link rel="stylesheet" async href="/Clean-Code/css/style.css" />
        <style>
            @font-face {
                font-family: icon;
                src: url("/Clean-Code/icon/icon.woff?zg8y3j") format("woff"),
                    url("/Clean-Code/icon/icon.svg?zg8y3j#icon") format("svg");
                font-weight: 400;
                font-style: normal;
                font-display: block;
            }
        </style>
    </head>
    <body>
        <div class="masthead">
            <div class="masthead__inner">
                <div class="masthead__grow masthead__left">
                    <button
                        class="drawer-opener icon-menu"
                        aria-label="메뉴 보기"
                    ></button>
                </div>
                <div class="masthead__center">7장 - 오류 처리</div>
                <div class="masthead__grow masthead__right">
                    <button
                        class="toc-opener icon-bookmark_outline"
                        aria-label="목차 보기"
                    ></button>
                </div>
            </div>
        </div>
        <nav class="global-navigation">
            <ul><li><a href="/Clean-Code/">클린 코드 스터디</a></li><li><a href="/Clean-Code/1%EC%9E%A5%20-%20%EA%B9%A8%EB%81%97%ED%95%9C%20%EC%BD%94%EB%93%9C/">1장 - 깨끗한 코드</a></li$><li><a href="/Clean-Code/2%EC%9E%A5%20-%20%EC%9D%98%EB%AF%B8%20%EC%9E%88%EB%8A%94%20%EC%9D%B4%EB%A6%84/">2장 - 의미 있는 이름</a></li$><li><a href="/Clean-Code/3%EC%9E%A5%20-%20%ED%95%A8%EC%88%98/">3장 - 함수</a></li$><li class="highlight"><a href="/Clean-Code/7%EC%9E%A5%20-%20%EC%98%A4%EB%A5%98%20%EC%B2%98%EB%A6%AC/">7장 - 오류 처리</a></li$><li><a href="/Clean-Code/9%EC%9E%A5%20-%20%EB%8B%A8%EC%9C%84%20%ED%85%8C%EC%8A%A4%ED%8A%B8/">9장 - 단위 테스트</a></li$></ul>
        </nav>
        <main>
            <article class="article">
                <h1 id="오류-처리">오류 처리</h1><h2 id="오류-코드보다-예외를-사용하라">오류 코드보다 예외를 사용하라</h2>
<pre><code class="language-ts">class DeviceController {
    // ...
    sendShutdown() {
        const handle: DeviceHandle = getHandle(DEV1);

        // 기기 상태 점검
        if (handle !== DeviceHandle.INVALID) {
            // 레코드 필드에 기기 상태 저장
            retrieveDeviceRecord(handle);

            // 기기가 일시 정지 상태가 아니면 종료
            if (record.getStatus() !== DEVICE_SUSPENDED) {
                pauseDevice(handle);
                clearDeviceWorkQueue(handle);
                closeDevice(handle);
            } else {
                logger.error("Device suspended. Unable to shut down");
            }
        } else {
            logger.error(`Invalid handle for: ${DEV1.toString()}`);
        }
    }
}
</code></pre>
<pre><code class="language-ts">class DeviceController {
    // ...
    sendShutdown() {
        try {
            tryToShutDown();
        } catch (error) {
            logger.error(error);
        }
    }

    tryToShutdown() {
        const handle: DeviceHandle = getHandle(DEV1);
        const record: DeviceRecord = retrieveDeviceRecord(handle);

        pauseDevice(handle);
        clearDeviceWorkQueue(handle);
        closeDevice(handle);
    }

    getHandle(id: DeviceId) {
        // ...
        throw new Error(`Invalid handle for: ${id.toString()}`);
        // ...
    }
    // ...
}
</code></pre>
<h2 id="try-catch-finally-문부터-작성하라">Try-Catch-Finally 문부터 작성하라</h2>
<h2 id="결론">결론</h2><div class="navigation"><article class="navigation-item navigation-item--previous"><a href="/Clean-Code/3장 - 함수/"><div><div class="navigation-item__type">Previous</div><h2 class="navigation-item__title">3장 - 함수</h2></div><div><i class="icon-arrow_back"></i></div></a></article><article class="navigation-item navigation-item--next"><a href="/Clean-Code/9장 - 단위 테스트/"><div><div class="navigation-item__type">Next</div><h2 class="navigation-item__title">9장 - 단위 테스트</h2></div><div><i class="icon-arrow_forward"></i></div></a></article></div>
            </article>
            <div class="toc-container"><ul class="toc"><li><a href="#%EC%98%A4%EB%A5%98-%EC%BD%94%EB%93%9C%EB%B3%B4%EB%8B%A4-%EC%98%88%EC%99%B8%EB%A5%BC-%EC%82%AC%EC%9A%A9%ED%95%98%EB%9D%BC">오류 코드보다 예외를 사용하라</a></li><li><a href="#try-catch-finally-%EB%AC%B8%EB%B6%80%ED%84%B0-%EC%9E%91%EC%84%B1%ED%95%98%EB%9D%BC">Try-Catch-Finally 문부터 작성하라</a></li><li><a href="#%EA%B2%B0%EB%A1%A0">결론</a></li></ul></div>
        </main>
        <div class="closer"></div>
        <script
            defer
            src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.5.0/highlight.min.js"
        ></script>
        <script defer src="/Clean-Code/js/app.js"></script>
    </body>
</html>
